<div class="container">
  <h1>New Movie Details {{movie.name}}</h1>
  <form>
    <div class="form-group row">
      <label for="name" class="col-sm-2 col-form-label">Movie Name</label>
      <div class="col-sm-4">
        <input [(ngModel)]="movie.name" class="form-control" id="name" [ngModelOptions]="{standalone: true}" required>
      </div>
    </div>

    <div class="form-group row">
      <label for="releaseDate" class="col-sm-2 col-form-label">Release date</label>
      <div class="col-sm-4">
        <mat-form-field>
          <input matInput [matDatepicker]="picker" [(ngModel)]="movie.releaseYear" [ngModelOptions]="{standalone: true}" id="releaseDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <div class="form-group row">
      <label for="plot" class="col-sm-2 col-form-label">Plot</label>
      <div class="col-sm-4">
        <input [(ngModel)]="movie.plot" [ngModelOptions]="{standalone: true}" class="form-control" id="plot">
      </div>
    </div>

    <div class="form-group row">
      <label for="producer" class="col-sm-2 col-form-label">Producer</label>
      <div class="col-sm-4">
        <mat-form-field>
          <mat-select placeholder="Producer" [(ngModel)]="selectedProducer" [ngModelOptions]="{standalone: true}">
            <mat-option *ngFor="let producer of movieProducers" [value]="producer.producerId">
              {{producer.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button type="submit" (click)="displayCreateProducer()" class="btn btn-primary" style="margin-left:10px;">New Producer</button>
      </div>
    </div>

    <div class="form-group row">
      <label for="actors" class="col-sm-2 col-form-label">Actors</label>
      <div class="col-sm-4">
        <mat-selection-list #list [(ngModel)]="selectedActors" [ngModelOptions]="{standalone: true}">
          <mat-list-option *ngFor="let actor of movieActors" [value]="actor.name">
            {{actor.name}}
          </mat-list-option>
        </mat-selection-list>
        <button type="submit" (click)="displayCreateActor()" class="btn btn-primary" style="margin-left:10px;">New Actor</button>
      </div>
    </div>
    <div>
      <button type="submit" (click)="createMovie()" class="btn btn-success" style="margin-left:10px;">Submit</button>
      <button type="submit" (click)="goBack()" class="btn btn-warning" style="margin-left:10px;">Go Back</button>
    </div>
  </form>
</div>

<app-add-person [isMovieActor]="isMovieActor" *ngIf="showPersonCreateSec" id="addPerson" (sectionCollapsed)="visibilityChangedHandler($event)"></app-add-person>
